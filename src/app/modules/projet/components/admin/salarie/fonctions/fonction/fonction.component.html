<mat-card *ngIf="loading || fonction">
	<mat-card-title>Information rapide</mat-card-title>

	<ng-container *ngIf="!loading; else loadingTmp">

		<mat-card-content>
			<div class="float-right" style="margin-bottom: 10px;">
			  <button 
			  	*ngIf="fonction.removable"
					mat-mini-fab
					matTooltip="Supprimer"
					color="warn"
					(click)="delete(fonction)">
			    <mat-icon>delete</mat-icon>
			  </button>
			</div>
			<h5> Fonction : {{ fonction.label }} </h5>

			<table class="table table-bordered">
				<thead>
					<tr>
						<th>Salarié</th>
						<th>Taux</th>
					</tr>
				</thead>
				<tbody>
					<ng-container *ngIf="fonction.salaries.length; else noData">
						<tr *ngFor="let salarie of fonction.salaries">
							<td>{{ salarie.personne.nom }} {{ salarie.personne.prenom }}</td>
							<td>{{ salarie.taux }}%</td>
						</tr>
					</ng-container>
					<ng-template #noData>
						<tr><td colspan="2">Aucun salarié</td></tr>
					</ng-template>
				</tbody>
			</table>
		</mat-card-content>
	</ng-container>
	<ng-template #loadingTmp>
		<app-loader message="Récupération des informations "></app-loader>
	</ng-template>
</mat-card>