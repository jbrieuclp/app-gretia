<mat-form-field
	[appearance]="appearance"
>
	<mat-label>
		<mat-spinner 
			*ngIf="loading"
			diameter="20"
			strokeWidth="2"
		>
		</mat-spinner>
		{{ label }}
	</mat-label>
  <input 
	  type="text" 
	  [placeholder]="placeholder" 
	  matInput 
	  #autocompleteTrigger
	  (click)="onClick($event)"
	  [required]="required" 
	  [formControl]="inputTerm"
	  [matAutocomplete]="auto"
	>
  <mat-autocomplete 
  	#auto="matAutocomplete"
  	[displayWith]="displayFn.bind(this)"
  	(optionSelected)="onSelectOption($event.option.value)"
  	(closed)="onClosed()"
  >
    <mat-option 
    	*ngFor="let option of displayOptions" 
    	[class.mat-selected] = "form.value === this.value(option)"
    	[value]="value(option)"
    	[disabled]="isDisabled(option)" 
    >
      {{ optionDisplayFn(option) }}
    </mat-option>
  </mat-autocomplete>
  <button 
  	*ngIf="inputTerm.value !== null && clearable"
		mat-icon-button 
		style="color: #969696; font-size: 14px;"
		matSuffix
		(click)="onClear($event)"
		matTooltip="Supprimer la selection"
	>
    <mat-icon>clear</mat-icon>
  </button>
</mat-form-field>